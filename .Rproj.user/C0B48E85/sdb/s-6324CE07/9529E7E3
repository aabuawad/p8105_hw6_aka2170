{
    "collab_server" : "",
    "contents" : "---\ntitle: \"Untitled\"\nauthor: \"Ahlam Abuawad\"\ndate: \"11/13/2017\"\noutput: \n  flexdashboard::flex_dashboard:\n    orientation: columns\n    vertical_layout: fill\n---\n\n```{r setup, include=FALSE}\nlibrary(flexdashboard)\n```\n\n```{r_load_packages, include=FALSE}\nlibrary(tidyverse)\nlibrary(janitor)\nlibrary(stringr)\nlibrary(forcats)\nlibrary(tidytext)\nlibrary(viridis)\nlibrary(plotly)\n```\n\n```{r}\nnyc_inspections = read_csv(\"./data/DOHMH_New_York_City_Restaurant_Inspection_Results.csv.gz\", \n                           col_types = cols(building = col_character()),\n                           na = c(\"NA\", \"N/A\")) %>% \n  filter(grade %in% c(\"A\", \"B\", \"C\")) %>% \n  mutate(inspection_num = row_number(),\n         boro = str_to_title(boro)) %>% \n  select(inspection_num, boro, grade, score, critical_flag, dba, cuisine_description, zipcode, \n  violation_description)\n\ninspection_words = nyc_inspections %>% \n  unnest_tokens(word, violation_description)\n\ndata(stop_words) #loading stop words dataset\n\ninspection_words = \n  anti_join(inspection_words, stop_words) #to remove them is opposite of a join from these two datasets (removing any overlap)\n```\n\nColumn {data-width=650}\n-----------------------------------------------------------------------\n\n### Chart A\n\n```{r}\nnyc_inspections %>% \n  filter(str_detect(dba, regex(\"falafel\", ignore_case = TRUE))) %>%\n  mutate(boro = fct_infreq(boro)) %>% #creating factor variable based on freq\n  ggplot(aes(x = boro, y = grade, fill = grade)) + geom_col() + labs(x = \"Borough\" , y = \"Grade\", title = \"NYC Inpection Grades for Falafel Restaurants\")\n```\n\nColumn {data-width=350}\n-----------------------------------------------------------------------\n\n### Chart B\n\n```{r}\ninspection_words %>% \n  filter(str_detect(dba, regex(\"falafel\", ignore_case = TRUE))) %>%\n  count(word, sort = TRUE) %>% #look at order in which words appear\n  top_n(10) %>% #extracts top 10 rows\n  mutate(word = fct_reorder(word, n)) %>% #reorder by n, freq of appearance\n  ggplot(aes(x = word, y = n)) + \n  geom_bar(stat = \"identity\", fill = \"blue\", alpha = .6) + \n  coord_flip()\n```\n\n### Chart C\n\n```{r}\nnyc_inspections %>% \n  filter(str_detect(dba, regex(\"mediterranean\", ignore_case = TRUE))) %>%\n  mutate(boro = fct_infreq(boro)) %>% #creating factor variable based on freq\n  ggplot(aes(x = boro, fill = grade)) + geom_bar() + \n  labs(x = \"Borough\", title = \"Distribution of Mediterranean Restaurants in NYC\")\n```\n\n",
    "created" : 1510729221664.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "4243656886",
    "id" : "9529E7E3",
    "lastKnownWriteTime" : 1510729732,
    "last_content_update" : 1510729732234,
    "path" : "~/Documents/Columbia/Data Science I/p8105_hw6_aka2170/p8105_hw6_aka2170.Rmd",
    "project_path" : "p8105_hw6_aka2170.Rmd",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_markdown"
}